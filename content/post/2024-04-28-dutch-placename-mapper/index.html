---
title: Dutch placename mapper
author: Bas
date: '2024-04-28'
slug: []
categories: []
tags: []
---

<link href="{{< blogdown/postref >}}index_files/htmltools-fill/fill.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/htmlwidgets/htmlwidgets.js"></script>
<script src="{{< blogdown/postref >}}index_files/jquery/jquery-3.6.0.min.js"></script>
<link href="{{< blogdown/postref >}}index_files/leaflet/leaflet.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/leaflet/leaflet.js"></script>
<link href="{{< blogdown/postref >}}index_files/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/proj4/proj4.min.js"></script>
<script src="{{< blogdown/postref >}}index_files/Proj4Leaflet/proj4leaflet.js"></script>
<link href="{{< blogdown/postref >}}index_files/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/leaflet-binding/leaflet.js"></script>


<p>Inspired by <a href="https://placenames.rtwilson.com" class="uri">https://placenames.rtwilson.com</a>, I thought I’d try to make such place name visualizations of the Netherlands myself.</p>
<p>The Dutch platform <a href="https://www.pdok.nl">PDOK</a> provides open geo-information datasets through webservices and downloads. Here, we use the <a href="https://api.pdok.nl/bzk/locatieserver/search/v3_1/ui/">location API</a> to search for residence locations using <a href="https://solr.apache.org/guide/6_6/the-standard-query-parser.html#the-standard-query-parser">Solr-syntax</a>. We also use the gray background map from PDOK, and use leaflet to create interactive maps.</p>
<pre class="r"><code>library(tidyverse)
library(leaflet)
library(sf)

pdok_query_url &lt;- &quot;https://api.pdok.nl/bzk/locatieserver/search/v3_1/free?q={location}&amp;fq=type:woonplaats&amp;fq=bron:BAG&amp;fl=id woonplaatsnaam weergavenaam centroide_ll&amp;df=woonplaatsnaam&amp;rows=100&quot;
pdok_map_url &lt;- &quot;https://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0/grijs/EPSG:3857/{z}/{x}/{y}.png&quot;

addLocationMarkers &lt;- function(map, location, fillColor) {
  url &lt;- URLencode(str_glue(pdok_query_url))
  res &lt;- jsonlite::read_json(url, simplifyVector = TRUE)
  
  df &lt;- bind_rows(res$response$docs) %&gt;% 
    mutate(lng = as.numeric(str_extract(centroide_ll, &quot;[\\d\\.]+\\s&quot;)),
           lat = as.numeric(str_extract(centroide_ll, &quot;\\s[\\d\\.]+&quot;)))
  
  map &lt;- addCircleMarkers(map, lng=df$lng, lat=df$lat, popup = df$woonplaatsnaam,
                          stroke = F, radius = 5, fillOpacity = 1, fillColor = fillColor, color = fillColor)
  
  return(map)
}

create_map &lt;- function(markers) {
  
  map &lt;- leaflet() %&gt;% 
    setView(zoom=7, lng=5.4, lat=52.2) %&gt;%
    addTiles(urlTemplate = pdok_map_url,
             attribution = &quot;&lt;a href=&#39;https://www.pdok.nl/&#39;&gt;PDOK&lt;/a&gt;&quot;,
             options = tileOptions(minZoom = 6, maxZoom = 18)
    )
  
  for (location in names(markers)) {
    map &lt;- addLocationMarkers(map, location, markers[[location]])
  }
  map &lt;- addLegend(map, position = &quot;bottomright&quot;,
                   colors = unname(unlist(markers)),
                   labels = names(markers),
                   opacity = 1)
  return(map)
}</code></pre>
<p>This allows us to create maps of common <a href="https://nl.wikipedia.org/wiki/Toponiem">Dutch toponym patterns</a>, such as “loo” (Germanic), “recht” (Roman) or “ga” (Frisian).</p>
<pre class="r"><code>create_map(list(
  &quot;*loo OR *lo OR *le&quot; = &quot;blue&quot;,
  &quot;*recht OR *richt&quot; = &quot;green&quot;,
  &quot;*ga&quot; = &quot;red&quot;,
  &quot;*wolde&quot; = &quot;orange&quot;,
  &quot;*schot&quot; = &quot;black&quot;,
  &quot;*wijk&quot; = &quot;magenta&quot;
))</code></pre>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-1" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[52.2,5.4],7,[]],"calls":[{"method":"addTiles","args":["https://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0/grijs/EPSG:3857/{z}/{x}/{y}.png",null,null,{"minZoom":6,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"<a href='https://www.pdok.nl/'>PDOK<\/a>"}]},{"method":"addCircleMarkers","args":[[52.43181299,51.51385272,52.38765681,52.35771367,51.98354752,53.04257485,51.43583268,51.33202606,52.73914231,53.35738676,53.00140342,52.21794138,53.2382153,52.10612921,51.41975911,51.90665514,51.934929,52.4277221,51.86511076,52.83458183,52.96276485,52.94138792,50.94914909,52.28824931,52.88437871,52.99382948,50.92311772,51.50888838,52.03806534,52.93051319,52.35296921,52.40673026,52.10773155,52.00002926,53.03958759,51.51684551,52.59985335,52.05402687,52.25490615,52.12550259,52.11272996,52.00567977,51.47872656,53.22085508,52.84077782,53.09515481,52.45774423,52.27752426,51.93006302,51.9332714,52.2353596,52.41471656,51.51131653,51.46384215,51.53160925,51.43923072,52.04923557,52.63870126,51.72164632,51.50921389,51.57363309,51.59490591,52.07916737,52.93960972,52.81029273,52.91897543,53.14485095,52.06557218,52.89475673,52.48711385,52.48834455,53.10276015,51.68868184,53.03613503,51.31169521,53.01639884,52.93784607,52.23959763,53.07904732,51.37905246,53.07767633,52.34440785,51.53129315,51.96633181,52.80908384,52.51868565],[5.96008498,5.64940863,6.89127522,6.65988219,6.11851032,6.70006602,4.92216568,6.08543934,5.95193733,6.50847594,6.62796226,6.68746277,5.71577641,6.51348302,3.75119036,4.16678789,4.58013769,6.53791752,6.48617146,6.38794776,6.61532724,6.24310638,5.75866486,5.66616511,6.8655502,6.35563226,5.74680109,5.0528502,6.63879682,6.66992726,6.3861551,6.83651722,6.57057763,6.42908672,6.30827026,4.36513749,4.70857318,6.33442203,6.77819416,5.90857642,5.85679117,6.24767688,3.95907702,6.09306122,5.84383179,6.45062301,6.41370511,6.27670797,5.98610562,5.96668531,6.51336678,6.12351423,6.08763315,6.08989398,5.92118054,5.61066415,4.58623075,5.71517383,3.79323062,6.0369467,3.55001548,5.84135852,5.79425079,5.81258845,6.00227407,5.85535862,6.09627846,6.46485551,6.70722315,6.62666463,6.65599933,6.00373659,5.00136906,6.62589097,4.04596701,5.78962163,5.70281875,6.10041988,6.61879175,6.1488133,7.14020608,6.86661816,3.4552999,6.65850533,6.74703116,6.11836361],5,null,null,{"interactive":true,"className":"","stroke":false,"color":"blue","weight":5,"opacity":0.5,"fill":true,"fillColor":"blue","fillOpacity":1},null,null,["'t Loo Oldebroek","Aarle-Rixtel","Agelo","Almelo","Angerlo","Anloo","Baarle-Nassau","Baarlo","Baarlo","Baflo","Balloo","Bentelo","Bitgummole","Borculo","Borssele","Brielle","Capelle aan den IJssel","Daarle","Dinxperlo","Dwingeloo","Eldersloo","Elsloo","Elsloo","Ermelo","Exloo","Fochteloo","Geulle","Goirle","Groenlo","Grolloo","Haarle","Haarle","Haarlo","Halle","Haule","Heerle","Heiloo","Hengelo (Gld)","Hengelo","Hoenderloo","Hoenderloo","Hummelo","Kapelle","Kootstertille","Langelille","Langelo","Lemele","Lettele","Loo Gld","Loo Gld","Markelo","Marle","Meerlo","Melderslo","Merselo","Mierlo","Moerkapelle","Nagele","Noordwelle","Oirlo","Oostkapelle","Oploo","Otterlo","Ouwsterhaule","Paasloo","Rotsterhaule","Rottevalle","Ruurlo","Schoonloo","Sibculo","Sibculo","Smalle Ee","Sprang-Capelle","Taarlo","Terhole","Terkaple","Teroele","Twello","Tynaarlo","Venlo","Vriescheloo","Weerselo","Westkapelle","Winterswijk Corle","Zweeloo","Zwolle"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[52.32295314,51.85106556,51.7815073,52.33035118,52.00362477,51.01821032,52.20051406,50.85296715,50.91571411,52.21200875,51.99808618,52.74334497,51.39506366,51.83323777,51.83068699,51.90769571,52.0886922,51.41908999,51.81852255],[4.92651544,4.52543794,4.7088743,4.93992756,4.79144484,5.84019739,5.085112,5.6995303,5.77754563,4.85391385,4.65236823,6.96212001,4.33529985,4.703344,4.7729476,5.25906477,5.09520363,4.28590253,4.61841496],5,null,null,{"interactive":true,"className":"","stroke":false,"color":"green","weight":5,"opacity":0.5,"fill":true,"fillColor":"green","fillOpacity":1},null,null,["Amsterdam-Duivendrecht","Barendrecht","Dordrecht","Duivendrecht","Haastrecht","Limbricht","Loosdrecht","Maastricht","Maastricht-Airport","Mijdrecht","Moordrecht","Nieuw-Dordrecht","Ossendrecht","Papendrecht","Sliedrecht","Tricht","Utrecht","Woensdrecht","Zwijndrecht"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[53.0185602,53.21972537,52.83522118,52.90253184,52.86782737,52.8839775,53.05352768,52.97759137,52.97927833,53.05297973,52.97714206,53.24806907,53.12789508,52.90950223,53.11701305,52.99243797,52.93094711,53.01359948,52.85404652,52.92322883,52.93273321,52.86449509,52.81478907,53.00119258,52.87223004,52.87225741,52.92910893],[5.57229823,6.16267197,5.7950242,5.74550791,5.71345635,5.72084212,5.70114044,5.56114739,6.11939682,5.66880984,6.22576268,5.59194555,6.02758544,5.5156008,5.9673522,5.55328026,5.80708562,5.46902385,6.04563859,5.75425151,5.8698856,5.97339755,5.87209326,5.71583367,6.12017707,6.00689309,5.61031964],5,null,null,{"interactive":true,"className":"","stroke":false,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":1},null,null,["Abbega","Augustinusga","Bantega","Doniaga","Eesterga","Follega","Goënga","Idzega","Jubbega","Loënga","Makkinga","Minnertsga","Nijega","Oudega","Oudega","Oudega","Ouwster-Nijega","Parrega","Peperga","Sint Nicolaasga","Sintjohannesga","Sonnega","Spanga","Uitwellingerga","Vinkega","Wolvega","Ypecolsga"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[53.11174223,53.17887364,53.23507588,53.1577844,53.25101337,52.89567764,53.14137027,53.16010084,53.18319174,53.19402675,52.90232539,53.27836058,52.88992416,52.91606981,52.47563968,53.00185836,53.15312292,53.17491524,52.77136781,53.23721436,52.27163648,52.34436139,52.66254184,53.2622713],[7.16055389,6.53558492,7.11207575,6.4587789,6.66001568,5.49782054,6.71359576,6.42760082,6.29687216,6.38732021,5.9696952,6.57849552,6.13885763,5.98713333,5.89408003,6.30548217,6.55910297,6.47104767,6.0176132,6.8061624,6.08119959,5.45524194,6.4192588,6.60082208],5,null,null,{"interactive":true,"className":"","stroke":false,"color":"orange","weight":5,"opacity":0.5,"fill":true,"fillColor":"orange","fillOpacity":1},null,null,["Bellingwolde","Eelderwolde","Finsterwolde","Foxwolde","Garmerwolde","Kolderwolde","Kropswolde","Leutingewolde","Lucaswolde","Midwolde","Nijeholtwolde","Noordwolde","Noordwolde","Oldeholtwolde","Oosterwolde Gld","Oosterwolde","Paterswolde","Roderwolde","Scheerwolde","Schildwolde","Terwolde","Zeewolde","Zuidwolde","Zuidwolde"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[51.57700949,51.56357172,51.51045603],[5.13891347,4.88510824,5.31456001],5,null,null,{"interactive":true,"className":"","stroke":false,"color":"black","weight":5,"opacity":0.5,"fill":true,"fillColor":"black","fillOpacity":1},null,null,["Berkel-Enschot","Molenschot","Oirschot"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[52.482063,52.02250063,51.88972341,52.67043765,51.8616952,52.3374905,53.05823063,51.65794566,51.75099321,52.19780288,51.77981919,52.17254252,51.99348498,52.27100002,53.16666025,51.56651576,51.87902256,52.5693275,52.17466539,51.94722014,52.04599159,51.95086901,51.80045173,52.03619628,51.98564209,51.814926,51.88812223,52.78903877,51.96904484,51.78819007,51.69429969,52.4531131,52.49161771,51.97430523,51.75811739,51.95360108,51.96633181,51.98172442,52.00277936,51.93883163,52.0134912,51.94098722,51.97912843,51.92612776,51.97191709],[4.66794877,4.53452193,4.8122003,6.31507953,5.72631276,5.63588418,6.33946212,5.48787568,5.86097789,4.40210035,5.2098652,5.75967774,4.20932923,4.462659,6.25775685,5.21633702,5.06956862,6.71474858,5.83417867,5.69436068,4.73688151,5.35998391,5.01085722,4.32603246,5.19534649,4.94103394,5.77895702,6.12631757,4.75462053,4.9990355,5.06886048,6.62670557,4.60226579,5.32422269,5.09870582,6.75037134,6.65850533,6.75972092,6.76192715,6.77155673,6.7033531,6.66543614,6.80431094,6.71490707,6.71168135],5,null,null,{"interactive":true,"className":"","stroke":false,"color":"magenta","weight":5,"opacity":0.5,"fill":true,"fillColor":"magenta","fillOpacity":1},null,null,["Beverwijk","Bleiswijk","Brandwijk","de Wijk","Ewijk","Harderwijk","Haulerwijk","Heeswijk-Dinther","Katwijk NB","Katwijk","Kerkwijk","Kootwijk","Naaldwijk","Noordwijk","Noordwijk","Oisterwijk","Oosterwijk","Radewijk","Radio Kootwijk","Randwijk","Reeuwijk","Rijswijk (GLD)","Rijswijk (NB)","Rijswijk","Schalkwijk","Sleeuwijk","Slijk-Ewijk","Steenwijk","Stolwijk","Uitwijk","Waalwijk","Westerhaar-Vriezenveensewijk","Wijk aan Zee","Wijk bij Duurstede","Wijk en Aalburg","Winterswijk Brinkheurne","Winterswijk Corle","Winterswijk Henxel","Winterswijk Huppel","Winterswijk Kotten","Winterswijk Meddo","Winterswijk Miste","Winterswijk Ratum","Winterswijk Woold","Winterswijk"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["blue","green","red","orange","black","magenta"],"labels":["*loo OR *lo OR *le","*recht OR *richt","*ga","*wolde","*schot","*wijk"],"na_color":null,"na_label":"NA","opacity":1,"position":"bottomright","type":"unknown","title":null,"extra":null,"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[50.85296715,53.35738676],"lng":[3.4552999,7.16055389]}},"evals":[],"jsHooks":[]}</script>
<p>Or places which contain river names:</p>
<pre class="r"><code>create_map(list(
  &quot;*rijn*&quot; = &quot;red&quot;,
  &quot;*maas*&quot; = &quot;green&quot;,
  &quot;*lek*&quot; = &quot;orange&quot;,
  &quot;*ijssel*&quot; = &quot;blue&quot;,
  &quot;*zaan*&quot; = &quot;black&quot;,
  &quot;*waal*&quot; = &quot;magenta&quot;
))</code></pre>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-2" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[52.2,5.4],7,[]],"calls":[{"method":"addTiles","args":["https://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0/grijs/EPSG:3857/{z}/{x}/{y}.png",null,null,{"minZoom":6,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"<a href='https://www.pdok.nl/'>PDOK<\/a>"}]},{"method":"addCircleMarkers","args":[[52.13023388,52.12535594,52.14210004,51.86218518,51.84354448,52.08307453,52.83712851,52.85266972,52.19858648,52.19603136],[4.66515345,4.5941276,4.59543591,6.02883651,5.28285905,4.80623376,5.91148639,5.94638838,4.67182134,4.44834742],5,null,null,{"interactive":true,"className":"","stroke":false,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":1},null,null,["Alphen aan den Rijn","Hazerswoude-Rijndijk","Koudekerk aan den Rijn","Millingen aan de Rijn","Neerijnen","Nieuwerbrug aan den Rijn","Nijetrijne","Oldetrijne","Rijnsaterwoude","Rijnsburg"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[51.8354783,51.14769024,51.36521207,51.78711937,51.95697852,51.57146084,51.94486314,51.92519893,50.85296715,50.91571411,51.95631371,51.78807378],[5.52505953,5.89871792,6.04628136,4.54834708,4.21248681,6.02877381,4.28020682,4.24886654,5.6995303,5.77754563,4.013754,4.46570178],5,null,null,{"interactive":true,"className":"","stroke":false,"color":"green","weight":5,"opacity":0.5,"fill":true,"fillColor":"green","fillOpacity":1},null,null,["Maasbommel","Maasbracht","Maasbree","Maasdam","Maasdijk","Maashees","Maasland","Maassluis","Maastricht","Maastricht-Airport","Maasvlakte Rotterdam","Westmaas"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[51.88271921,51.89993725,51.9107317,53.22488872,51.88604518,51.95029293],[4.27745862,4.61812794,4.69499699,5.83091095,4.69738243,4.94255468],5,null,null,{"interactive":true,"className":"","stroke":false,"color":"orange","weight":5,"opacity":0.5,"fill":true,"fillColor":"orange","fillOpacity":1},null,null,["Botlek Rotterdam","Krimpen aan de Lek","Lekkerkerk","Lekkum","Nieuw-Lekkerland","Tienhoven aan de Lek"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[51.934929,52.80670656,52.5659651,52.02771247,51.91469695,51.96639864,51.94095205,51.48509954],[4.58013769,5.96268261,5.94844712,5.02879098,4.60210186,4.61844396,4.65499857,5.89425571],5,null,null,{"interactive":true,"className":"","stroke":false,"color":"blue","weight":5,"opacity":0.5,"fill":true,"fillColor":"blue","fillOpacity":1},null,null,["Capelle aan den IJssel","IJsselham","IJsselmuiden","IJsselstein","Krimpen aan den IJssel","Nieuwerkerk aan den IJssel","Ouderkerk aan den IJssel","Ysselsteyn"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[52.46190001,52.45196353,52.45122275,52.4454116,52.47407686],[4.79987222,4.87610965,4.77334703,4.82520183,4.79999744],5,null,null,{"interactive":true,"className":"","stroke":false,"color":"black","weight":5,"opacity":0.5,"fill":true,"fillColor":"black","fillOpacity":1},null,null,["Koog aan de Zaan","Oostzaan","Westzaan","Zaandam","Zaandijk"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[53.07675366,51.76834514,51.80874428,51.99918805,51.93823393,51.38729123,51.69429969,51.87280555],[4.82499749,4.45477655,5.1705763,5.1436267,4.89964502,5.46486947,5.06886048,4.20786322],5,null,null,{"interactive":true,"className":"","stroke":false,"color":"magenta","weight":5,"opacity":0.5,"fill":true,"fillColor":"magenta","fillOpacity":1},null,null,["De Waal","Klaaswaal","Nieuwaal","Tull en 't Waal","Waal","Waalre","Waalwijk","Zwartewaal"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["red","green","orange","blue","black","magenta"],"labels":["*rijn*","*maas*","*lek*","*ijssel*","*zaan*","*waal*"],"na_color":null,"na_label":"NA","opacity":1,"position":"bottomright","type":"unknown","title":null,"extra":null,"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[50.85296715,53.22488872],"lng":[4.013754,6.04628136]}},"evals":[],"jsHooks":[]}</script>
